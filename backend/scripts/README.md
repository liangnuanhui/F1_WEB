# F1 æ•°æ®åŒæ­¥è„šæœ¬

æœ¬ç›®å½•åŒ…å«ç”¨äºä» FastF1 æ‹‰å–å’ŒåŒæ­¥ F1 æ•°æ®åˆ°æœ¬åœ°æ•°æ®åº“çš„è„šæœ¬ã€‚

## ğŸ¯ 2025 èµ›å­£ä¼˜åŒ–

æ‰€æœ‰è„šæœ¬å·²é’ˆå¯¹ 2025 èµ›å­£è¿›è¡Œäº†ä¼˜åŒ–ï¼š

- âœ… ç»Ÿä¸€é»˜è®¤å¹´ä»½ä¸º 2025
- âœ… æ™ºèƒ½é¢‘ç‡é™åˆ¶å¤„ç†
- âœ… é¿å…é‡å¤æ•°æ®åŒæ­¥
- âœ… è¯¦ç»†çš„æ—¥å¿—è®°å½•
- âœ… é”™è¯¯æ¢å¤æœºåˆ¶
- âœ… æ•°æ®æ¨¡å‹è‡ªåŠ¨ä¿®å¤

## ğŸ“ è„šæœ¬è¯´æ˜

### 1. `validate_2025_config.py` - é…ç½®éªŒè¯è„šæœ¬ â­ æ¨èå…ˆè¿è¡Œ

**ç”¨é€”**: éªŒè¯æ‰€æœ‰ 2025 èµ›å­£ç›¸å…³é…ç½®æ˜¯å¦æ­£ç¡®

```bash
# éªŒè¯æ‰€æœ‰é…ç½®
poetry run python scripts/validate_2025_config.py

# åŠŸèƒ½:
# - éªŒè¯æ•°æ®åº“é…ç½®
# - éªŒè¯æœåŠ¡é…ç½®
# - éªŒè¯è„šæœ¬é…ç½®
# - éªŒè¯APIç«¯ç‚¹é…ç½®
# - æµ‹è¯•æ•°æ®æä¾›è€…
```

### 2. `fix_season_model.py` - æ•°æ®æ¨¡å‹ä¿®å¤è„šæœ¬

**ç”¨é€”**: ä¿®å¤ Season æ¨¡å‹ä¸­çš„å­—æ®µç±»å‹é—®é¢˜

```bash
# ä¿®å¤æ•°æ®æ¨¡å‹
poetry run python scripts/fix_season_model.py

# åŠŸèƒ½:
# - ä¿®å¤is_currentå­—æ®µç±»å‹
# - è®¾ç½®2025èµ›å­£ä¸ºå½“å‰èµ›å­£
# - éªŒè¯ä¿®å¤ç»“æœ
```

### 3. `init_data.py` - æ•°æ®åˆå§‹åŒ–è„šæœ¬

**ç”¨é€”**: åˆå§‹åŒ– 2025 èµ›å­£çš„ä¸»æ•°æ®

```bash
# åŸºæœ¬ä½¿ç”¨
poetry run python scripts/init_data.py

# åŠŸèƒ½:
# - è‡ªåŠ¨ä¿®å¤æ•°æ®æ¨¡å‹
# - åŒæ­¥èµ›å­£æ•°æ® (2025)
# - åŒæ­¥èµ›é“æ•°æ®
# - åŒæ­¥è½¦æ‰‹æ•°æ®
# - åŒæ­¥è½¦é˜Ÿæ•°æ®
# - åŒæ­¥ç§¯åˆ†æ¦œæ•°æ®
# - åŒæ­¥å‰3è½®æ¯”èµ›ç»“æœ
```

### 4. `test_data_providers.py` - æ•°æ®æä¾›è€…æµ‹è¯•è„šæœ¬

**ç”¨é€”**: æµ‹è¯• FastF1 æ•°æ®æä¾›è€…æ˜¯å¦æ­£å¸¸å·¥ä½œ

```bash
# åŸºæœ¬æµ‹è¯•
poetry run python scripts/test_data_providers.py

# è¯¦ç»†æµ‹è¯•
poetry run python scripts/test_data_providers.py --verbose

# æµ‹è¯•æ•°æ®ä¸€è‡´æ€§
poetry run python scripts/test_data_providers.py --consistency

# æŒ‡å®šç¼“å­˜ç›®å½•
poetry run python scripts/test_data_providers.py --cache-dir ./cache
```

### 5. `sync_data_safe.py` - å®‰å…¨æ•°æ®åŒæ­¥è„šæœ¬

**ç”¨é€”**: å®‰å…¨åœ°åŒæ­¥æ•°æ®ï¼ŒåŒ…å«é¢‘ç‡é™åˆ¶å¤„ç†

```bash
# åŒæ­¥åŸºç¡€æ•°æ®ï¼ˆæ¨èï¼‰
poetry run python scripts/sync_data_safe.py --basic-only

# åŒæ­¥æ‰€æœ‰æ•°æ®ï¼ˆåŒ…æ‹¬æ¯”èµ›ç»“æœï¼‰
poetry run python scripts/sync_data_safe.py

# é™åˆ¶åŒæ­¥è½®æ¬¡
poetry run python scripts/sync_data_safe.py --max-rounds 2

# æŒ‡å®šç¼“å­˜ç›®å½•
poetry run python scripts/sync_data_safe.py --cache-dir ./cache
```

### 6. `sync_data.py` - æ ‡å‡†æ•°æ®åŒæ­¥è„šæœ¬

**ç”¨é€”**: æ ‡å‡†çš„æ•°æ®åŒæ­¥ï¼Œæ”¯æŒå¤šç§æ•°æ®ç±»å‹

```bash
# åˆå§‹åŒ–æ•°æ®åº“è¡¨
poetry run python scripts/sync_data.py init

# åŒæ­¥å½“å‰èµ›å­£æ•°æ®
poetry run python scripts/sync_data.py current

# åŒæ­¥ç‰¹å®šæ•°æ®ç±»å‹
poetry run python scripts/sync_data.py drivers --season 2025
poetry run python scripts/sync_data.py constructors --season 2025
poetry run python scripts/sync_data.py circuits --season 2025
poetry run python scripts/sync_data.py race_results --season 2025 --round 1
```

### 7. `history_data.py` - å†å²æ•°æ®åŒæ­¥è„šæœ¬

**ç”¨é€”**: åŒæ­¥å†å²èµ›å­£æ•°æ®

```bash
# åŒæ­¥æŒ‡å®šèµ›å­£
poetry run python scripts/history_data.py season --season 2024

# åŒæ­¥å¹´ä»½èŒƒå›´
poetry run python scripts/history_data.py all --start-year 2020 --end-year 2024
```

## ğŸš€ æ¨èä½¿ç”¨æµç¨‹

### é¦–æ¬¡è®¾ç½®ï¼ˆæ¨èï¼‰

```bash
# 1. éªŒè¯æ‰€æœ‰é…ç½®
poetry run python scripts/validate_2025_config.py

# 2. å¦‚æœéªŒè¯å¤±è´¥ï¼Œä¿®å¤æ•°æ®æ¨¡å‹
poetry run python scripts/fix_season_model.py

# 3. æµ‹è¯•æ•°æ®æä¾›è€…
poetry run python scripts/test_data_providers.py --verbose

# 4. åˆå§‹åŒ– 2025 èµ›å­£æ•°æ®
poetry run python scripts/init_data.py

# 5. å†æ¬¡éªŒè¯é…ç½®
poetry run python scripts/validate_2025_config.py
```

### æ—¥å¸¸åŒæ­¥ï¼ˆæ¨èï¼‰

```bash
# åŒæ­¥åŸºç¡€æ•°æ®ï¼ˆå®‰å…¨ï¼Œä¸ä¼šè§¦å‘APIé™åˆ¶ï¼‰
poetry run python scripts/sync_data_safe.py --basic-only

# å¦‚æœéœ€è¦æ¯”èµ›ç»“æœæ•°æ®
poetry run python scripts/sync_data_safe.py --max-rounds 3
```

## âš™ï¸ é…ç½®è¯´æ˜

### é¢‘ç‡é™åˆ¶é…ç½®

- **åŸºç¡€æ•°æ®**: 0.5 ç§’å»¶è¿Ÿ
- **æ¯”èµ›ç»“æœ**: 1.0 ç§’å»¶è¿Ÿ
- **ç§¯åˆ†æ¦œ**: 1.5 ç§’å»¶è¿Ÿ
- **ä¼šè¯æ•°æ®**: 2.0 ç§’å»¶è¿Ÿ

### ç¼“å­˜é…ç½®

```bash
# å¯ç”¨ç¼“å­˜ï¼ˆæ¨èï¼‰
poetry run python scripts/init_data.py --cache-dir ./cache
```

### æ—¥å¿—é…ç½®

- æ§åˆ¶å°è¾“å‡º + æ–‡ä»¶æ—¥å¿—
- è¯¦ç»†çš„æ—¶é—´æˆ³å’ŒçŠ¶æ€ä¿¡æ¯
- é”™è¯¯è¿½è¸ªå’Œæ¢å¤å»ºè®®

## ğŸ”§ æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **Season æ¨¡å‹å­—æ®µç±»å‹é”™è¯¯**

   ```
   è§£å†³æ–¹æ¡ˆ: è¿è¡Œ fix_season_model.py è„šæœ¬
   ```

2. **API é¢‘ç‡é™åˆ¶**

   ```
   è§£å†³æ–¹æ¡ˆ: ä½¿ç”¨ --basic-only æ¨¡å¼ï¼Œæˆ–å¢åŠ å»¶è¿Ÿæ—¶é—´
   ```

3. **ç½‘ç»œè¿æ¥é—®é¢˜**

   ```
   è§£å†³æ–¹æ¡ˆ: æ£€æŸ¥ç½‘ç»œè¿æ¥ï¼Œä½¿ç”¨ç¼“å­˜ç›®å½•
   ```

4. **æ•°æ®åº“è¿æ¥é—®é¢˜**

   ```
   è§£å†³æ–¹æ¡ˆ: ç¡®ä¿ PostgreSQL æœåŠ¡è¿è¡Œï¼Œæ£€æŸ¥è¿æ¥é…ç½®
   ```

5. **æ•°æ®ä¸å®Œæ•´**
   ```
   è§£å†³æ–¹æ¡ˆ: è¿è¡Œä¸€è‡´æ€§æµ‹è¯•ï¼Œé‡æ–°åŒæ­¥ç¼ºå¤±çš„æ•°æ®
   ```

### è°ƒè¯•æ¨¡å¼

```bash
# éªŒè¯é…ç½®
poetry run python scripts/validate_2025_config.py

# å¯ç”¨è¯¦ç»†æ—¥å¿—
poetry run python scripts/test_data_providers.py --verbose

# æŸ¥çœ‹æ—¥å¿—æ–‡ä»¶
tail -f data_init_2025.log
```

## ğŸ“Š æ•°æ®ç»Ÿè®¡

è¿è¡Œåˆå§‹åŒ–è„šæœ¬åï¼Œä¼šæ˜¾ç¤ºè¯¦ç»†çš„ç»Ÿè®¡ä¿¡æ¯ï¼š

- èµ›å­£æ•°é‡
- èµ›é“æ•°é‡
- æ¯”èµ›æ•°é‡
- è½¦æ‰‹æ•°é‡
- è½¦é˜Ÿæ•°é‡
- æ¯”èµ›ç»“æœæ•°é‡
- æ’ä½èµ›ç»“æœæ•°é‡
- ç§¯åˆ†æ¦œæ•°é‡

## ğŸ¯ 2025 èµ›å­£ç‰¹æ®Šè¯´æ˜

- æ‰€æœ‰è„šæœ¬é»˜è®¤é…ç½®ä¸º 2025 èµ›å­£
- ä½¿ç”¨ä¼˜åŒ–çš„é¢‘ç‡é™åˆ¶ç­–ç•¥
- æ”¯æŒæ™ºèƒ½å»¶è¿Ÿå’Œé”™è¯¯æ¢å¤
- é¿å…é‡å¤æ•°æ®åŒæ­¥
- è¯¦ç»†çš„è¿›åº¦å’ŒçŠ¶æ€åé¦ˆ
- è‡ªåŠ¨æ•°æ®æ¨¡å‹ä¿®å¤
- 2025 èµ›å­£æ•°æ®ä¸å¯ç”¨æ—¶çš„é™çº§å¤„ç†

## ğŸ“ æ³¨æ„äº‹é¡¹

1. **é¦–æ¬¡è¿è¡Œ**: å»ºè®®å…ˆè¿è¡ŒéªŒè¯è„šæœ¬æ£€æŸ¥ç¯å¢ƒ
2. **ç½‘ç»œç¯å¢ƒ**: ç¡®ä¿ç¨³å®šçš„ç½‘ç»œè¿æ¥
3. **API é™åˆ¶**: æ³¨æ„ FastF1 API çš„é¢‘ç‡é™åˆ¶
4. **æ•°æ®å®Œæ•´æ€§**: å®šæœŸè¿è¡Œä¸€è‡´æ€§æµ‹è¯•
5. **å¤‡ä»½**: é‡è¦æ•°æ®å»ºè®®å®šæœŸå¤‡ä»½
6. **æ¨¡å‹ä¿®å¤**: å¦‚æœé‡åˆ°å­—æ®µç±»å‹é”™è¯¯ï¼Œè¿è¡Œä¿®å¤è„šæœ¬

## ğŸ”„ æ›´æ–°æ—¥å¿—

- **v2.1**: æ·»åŠ é…ç½®éªŒè¯å’Œæ¨¡å‹ä¿®å¤è„šæœ¬
- **v2.0**: é’ˆå¯¹ 2025 èµ›å­£ä¼˜åŒ–
- **v1.5**: å¢åŠ æ™ºèƒ½å»¶è¿Ÿå’Œé”™è¯¯æ¢å¤
- **v1.0**: åŸºç¡€æ•°æ®åŒæ­¥åŠŸèƒ½
